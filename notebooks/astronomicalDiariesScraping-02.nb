(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 12.1' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     73387,       1803]
NotebookOptionsPosition[     69128,       1725]
NotebookOutlinePosition[     69520,       1741]
CellTagsIndexPosition[     69477,       1738]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell[BoxData[
 RowBox[{"dataDirectory", "=", 
  RowBox[{"FileNameJoin", "[", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"ParentDirectory", "[", 
      RowBox[{"NotebookDirectory", "[", "]"}], "]"}], ",", "\"\<data\>\""}], 
    "}"}], "]"}]}]], "Input",
 CellLabel->"In[16]:=",ExpressionUUID->"ba20a98f-8f8e-4a3e-b1ae-f67c6185dd43"],

Cell[BoxData["\<\"/Users/christopher/git/ComputationalDiaries/data\"\>"], \
"Output",
 CellChangeTimes->{3.794751559410676*^9, 3.797197681179747*^9, 
  3.798122068334474*^9, 3.808330702723526*^9},
 CellLabel->"Out[16]=",ExpressionUUID->"cc983bcf-4b36-4bd5-ae0a-ef53aa9786e4"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Scraping", "Subsection",
 CellChangeTimes->{{3.794650812643708*^9, 
  3.794650813861652*^9}},ExpressionUUID->"8ce99784-8417-4c0e-812b-\
a3759b7145d8"],

Cell["\<\
Pressing the print button on a tablet gives this link: \
http://oracc.iaas.upenn.edu/adsd/adart3/X300900/html\
\>", "Text",
 CellChangeTimes->{{3.797561327386499*^9, 
  3.79756133416575*^9}},ExpressionUUID->"c8678bc3-45c3-4011-a373-\
5015d1ea3a95"],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", "ids", "}"}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"ids", "=", 
         RowBox[{"Keys", "@", 
          RowBox[{
           RowBox[{"Import", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"StringTemplate", "[", 
               RowBox[{"FileNameJoin", "[", 
                RowBox[{"{", 
                 RowBox[{
                 "dataDirectory", ",", "\"\<adsd\>\"", ",", "\"\<adsd`1`\>\"",
                   ",", "\"\<adart`1`\>\"", ",", "\"\<corpus.json\>\""}], 
                 "}"}], "]"}], "]"}], "[", "i", "]"}], ",", 
             "\"\<RawJSON\>\""}], "]"}], "[", "\"\<members\>\"", "]"}]}]}], 
        ";", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{
          RowBox[{"URLDownload", "[", 
           RowBox[{
            RowBox[{"<|", 
             RowBox[{
              RowBox[{"\"\<Scheme\>\"", "\[Rule]", "\"\<http\>\""}], ",", 
              RowBox[{
              "\"\<Domain\>\"", "\[Rule]", "\"\<oracc.museum.upenn.edu\>\""}],
               ",", 
              RowBox[{"\"\<Path\>\"", "\[Rule]", 
               RowBox[{"{", 
                RowBox[{"\"\<adsd\>\"", ",", 
                 RowBox[{
                  RowBox[{"StringTemplate", "[", "\"\<adart``\>\"", "]"}], 
                  "[", "i", "]"}], ",", "#", ",", "\"\<html\>\""}], "}"}]}]}],
              "|>"}], ",", "\[IndentingNewLine]", 
            RowBox[{"FileNameJoin", "[", 
             RowBox[{"{", 
              RowBox[{
              "dataDirectory", ",", "\"\<adsdHTML\>\"", ",", 
               "\"\<rawHTML\>\"", ",", 
               RowBox[{
                RowBox[{"StringTemplate", "[", "\"\<``.html\>\"", "]"}], "[", 
                "#", "]"}]}], "}"}], "]"}]}], "]"}], "&"}], "/@", "ids"}]}]}],
       "\[IndentingNewLine]", "]"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{"i", ",", 
       RowBox[{"{", 
        RowBox[{"1", ",", "2", ",", "3"}], "}"}]}], "}"}]}], 
    "\[IndentingNewLine]", "]"}], ";"}], "*)"}]], "Input",
 CellChangeTimes->{{3.7975612138814087`*^9, 3.7975612856007853`*^9}, {
  3.797561317262298*^9, 
  3.797561358155246*^9}},ExpressionUUID->"1742b6cc-30c6-4c1a-8794-\
ef8fb353cf78"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Processing (HTML)", "Subsection",
 CellChangeTimes->{{3.7975613615541153`*^9, 3.797561362536962*^9}, {
  3.798122840013382*^9, 
  3.7981228410931797`*^9}},ExpressionUUID->"79aefb83-56a4-4959-8411-\
a65b96bd6be6"],

Cell[BoxData[
 RowBox[{
  RowBox[{"htmlPaths", "=", 
   RowBox[{"Association", "[", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"FileBaseName", "[", "#", "]"}], "\[Rule]", "#"}], "&"}], "/@", 
     RowBox[{"FileNames", "[", 
      RowBox[{"FileNameJoin", "[", 
       RowBox[{"{", 
        RowBox[{
        "dataDirectory", ",", "\"\<adsdHTML\>\"", ",", "\"\<rawHTML\>\"", 
         ",", "\"\<*.html\>\""}], "}"}], "]"}], "]"}]}], "]"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.7975613675938253`*^9, 3.797561375976005*^9}},
 CellLabel->"In[67]:=",ExpressionUUID->"83e54005-fac6-4366-8455-404e95e4009a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"allHTML", "=", 
   RowBox[{
    RowBox[{
     RowBox[{"Import", "[", 
      RowBox[{"#", ",", "\"\<XML\>\""}], "]"}], "&"}], "/@", "htmlPaths"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.797562545260303*^9, 3.797562561748383*^9}},
 CellLabel->"In[68]:=",ExpressionUUID->"906c7e93-dab5-4e0f-9673-365c82a6de50"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"allHTML", "[", "\"\<X300900\>\"", "]"}], "[", 
  RowBox[{"[", 
   RowBox[{
   "2", ",", "3", ",", "2", ",", "3", ",", "1", ",", "3", ",", "2", ",", "3", 
    ",", "20"}], "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.79756155485771*^9, 3.797561633720422*^9}, {
  3.797561666314637*^9, 3.797561709814357*^9}, {3.797561778724573*^9, 
  3.7975618174498663`*^9}, {3.7975625358637114`*^9, 3.7975625378979683`*^9}, {
  3.797562575159071*^9, 3.797562576801791*^9}},
 CellLabel->"In[69]:=",ExpressionUUID->"7f9d3908-f161-4423-afb4-3d891642863b"],

Cell[BoxData[
 RowBox[{"XMLElement", "[", 
  RowBox[{"\<\"tr\"\>", ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\<\"id\"\>", "\[Rule]", "\<\"X300900.19\"\>"}], ",", 
     RowBox[{"\<\"class\"\>", "\[Rule]", "\<\"nonl\"\>"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"XMLElement", "[", 
      RowBox[{"\<\"td\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"class\"\>", "\[Rule]", "\<\"nonlnum \"\>"}], "}"}], ",", 
       
       RowBox[{"{", "}"}]}], "]"}], ",", 
     RowBox[{"XMLElement", "[", 
      RowBox[{"\<\"td\"\>", ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"\<\"colspan\"\>", "\[Rule]", "\<\"1\"\>"}], ",", 
         RowBox[{"\<\"class\"\>", "\[Rule]", "\<\"nonlbody\"\>"}]}], "}"}], 
       ",", 
       RowBox[{"{", 
        RowBox[{"XMLElement", "[", 
         RowBox[{"\<\"span\"\>", ",", 
          RowBox[{"{", 
           RowBox[{"\<\"class\"\>", "\[Rule]", "\<\"noncl \"\>"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"XMLElement", "[", 
            RowBox[{"\<\"hr\"\>", ",", 
             RowBox[{"{", 
              RowBox[{"\<\"class\"\>", "\[Rule]", "\<\" \"\>"}], "}"}], ",", 
             RowBox[{"{", "}"}]}], "]"}], "}"}]}], "]"}], "}"}]}], "]"}]}], 
    "}"}]}], "]"}]], "Output",
 CellChangeTimes->{{3.7975615554896603`*^9, 3.797561634058449*^9}, {
   3.797561666826541*^9, 3.797561710171877*^9}, {3.7975617790969267`*^9, 
   3.7975618177829733`*^9}, {3.7975625365415688`*^9, 3.797562538150844*^9}, 
   3.7975625772447643`*^9, 3.798122093092309*^9},
 CellLabel->"Out[69]=",ExpressionUUID->"d1daeb9d-a466-43f4-9a8c-6fb05761b589"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Counts", "[", 
  RowBox[{
   RowBox[{"Lookup", "[", "\"\<class\>\"", "]"}], "/@", 
   RowBox[{"Catenate", "[", 
    RowBox[{"Values", "@", 
     RowBox[{"allHTML", "[", 
      RowBox[{"[", 
       RowBox[{
       "All", ",", "2", ",", "3", ",", "2", ",", "3", ",", "1", ",", "3", ",",
         "2", ",", "3", ",", "All", ",", "2"}], "]"}], "]"}]}], "]"}]}], 
  "]"}]], "Input",
 CellChangeTimes->{{3.797562652848104*^9, 3.797562709291267*^9}},
 CellLabel->
  "In[159]:=",ExpressionUUID->"e51b014b-b168-45aa-be95-901128f0cf04"],

Cell[BoxData[
 RowBox[{"\[LeftAssociation]", 
  RowBox[{
   RowBox[{"\<\"l p2\"\>", "\[Rule]", "401"}], ",", 
   RowBox[{"\<\"h surface\"\>", "\[Rule]", "978"}], ",", 
   RowBox[{"\<\"nonl\"\>", "\[Rule]", "488"}], ",", 
   RowBox[{"\<\"l\"\>", "\[Rule]", "11907"}], ",", 
   RowBox[{"\<\"nonl-initial\"\>", "\[Rule]", "7"}], ",", 
   RowBox[{"\<\"nonl-final\"\>", "\[Rule]", "7"}], ",", 
   RowBox[{
    RowBox[{"Missing", "[", 
     RowBox[{"\<\"KeyAbsent\"\>", ",", "\<\"class\"\>"}], "]"}], "\[Rule]", 
    "28"}], ",", 
   RowBox[{"\<\"hforce\"\>", "\[Rule]", "8"}], ",", 
   RowBox[{"\<\"h1\"\>", "\[Rule]", "10"}], ",", 
   RowBox[{"\<\"h column\"\>", "\[Rule]", "20"}], ",", 
   RowBox[{"\<\"nonl-medial\"\>", "\[Rule]", "1"}]}], 
  "\[RightAssociation]"}]], "Output",
 CellChangeTimes->{{3.797562653631324*^9, 3.797562709566963*^9}},
 CellLabel->
  "Out[159]=",ExpressionUUID->"347e3090-961f-445f-a4c6-bcb09fdb501a"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"allHTML", "[", 
  RowBox[{"[", 
   RowBox[{
   "1", ",", "2", ",", "3", ",", "2", ",", "3", ",", "1", ",", "3", ",", "2", 
    ",", "3", ",", "3"}], "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.7975627726185303`*^9, 3.797562800428752*^9}, {
  3.797563765085226*^9, 3.797563809074235*^9}},
 CellLabel->
  "In[181]:=",ExpressionUUID->"4cb295a6-5600-4371-a892-4497fd54b4dd"],

Cell[BoxData[
 RowBox[{"XMLElement", "[", 
  RowBox[{"\<\"tr\"\>", ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\<\"id\"\>", "\[Rule]", "\<\"X102611.2\"\>"}], ",", 
     RowBox[{"\<\"class\"\>", "\[Rule]", "\<\"nonl\"\>"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"XMLElement", "[", 
      RowBox[{"\<\"td\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"class\"\>", "\[Rule]", "\<\"lnum \"\>"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"XMLElement", "[", 
          RowBox[{"\<\"span\"\>", ",", 
           RowBox[{"{", 
            RowBox[{"\<\"class\"\>", "\[Rule]", "\<\"xlabel \"\>"}], "}"}], 
           ",", 
           RowBox[{"{", "\<\"o\"\>", "}"}]}], "]"}], ",", 
         RowBox[{"XMLElement", "[", 
          RowBox[{"\<\"span\"\>", ",", 
           RowBox[{"{", 
            RowBox[{"\<\"class\"\>", "\[Rule]", "\<\"lnum \"\>"}], "}"}], ",", 
           RowBox[{"{", "\<\"o\[NonBreakingSpace]\"\>", "}"}]}], "]"}]}], 
        "}"}]}], "]"}], ",", 
     RowBox[{"XMLElement", "[", 
      RowBox[{"\<\"td\"\>", ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"\<\"colspan\"\>", "\[Rule]", "\<\"1\"\>"}], ",", 
         RowBox[{"\<\"class\"\>", "\[Rule]", "\<\"nonlbody\"\>"}]}], "}"}], 
       ",", 
       RowBox[{"{", 
        RowBox[{"XMLElement", "[", 
         RowBox[{"\<\"span\"\>", ",", 
          RowBox[{"{", 
           RowBox[{"\<\"class\"\>", "\[Rule]", "\<\"noncl \"\>"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"XMLElement", "[", 
            RowBox[{"\<\"hr\"\>", ",", 
             RowBox[{"{", 
              RowBox[{"\<\"class\"\>", "\[Rule]", "\<\" \"\>"}], "}"}], ",", 
             RowBox[{"{", "}"}]}], "]"}], "}"}]}], "]"}], "}"}]}], "]"}]}], 
    "}"}]}], "]"}]], "Output",
 CellChangeTimes->{{3.797562772958817*^9, 3.7975628031318274`*^9}, {
  3.797563765654914*^9, 3.797563809436728*^9}},
 CellLabel->
  "Out[181]=",ExpressionUUID->"39b5de77-0883-4c07-8c57-42418f0eba4d"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"Clear", "[", 
  RowBox[{"processParagraph", ",", "processSpans"}], "]"}]], "Input",
 CellLabel->
  "In[322]:=",ExpressionUUID->"a4143005-70c5-4ea2-a64a-fcdde6132c9f"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"processParagraph", "[", "spans_", "]"}], " ", ":=", "\n", "\t", 
    RowBox[{"DeleteCases", "[", 
     RowBox[{
      RowBox[{"StringTrim", "@", 
       RowBox[{"StringSplit", "[", 
        RowBox[{
         RowBox[{"StringJoin", "[", 
          RowBox[{"processSpans", "/@", "spans"}], "]"}], ",", 
         "\"\<...\>\""}], "]"}]}], ",", "\"\<\>\""}], "]"}]}], ";"}], 
  "\n"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"processSpans", "[", "s_String", "]"}], " ", ":=", " ", "s"}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"processSpans", "[", 
    RowBox[{"XMLElement", "[", 
     RowBox[{"\"\<span\>\"", ",", 
      RowBox[{"{", 
       RowBox[{"\"\<class\>\"", "\[Rule]", "\"\<w\>\""}], "}"}], ",", "ss_"}],
      "]"}], "]"}], " ", ":=", " ", 
   RowBox[{"Splice", "[", 
    RowBox[{"processSpans", "/@", "ss"}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"processSpans", "[", 
    RowBox[{"XMLElement", "[", 
     RowBox[{"\"\<span\>\"", ",", 
      RowBox[{"{", 
       RowBox[{"\"\<class\>\"", "\[Rule]", "\"\<i\>\""}], "}"}], ",", "ss_"}],
      "]"}], "]"}], " ", ":=", " ", 
   RowBox[{"Splice", "[", 
    RowBox[{"processSpans", "/@", "ss"}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"processSpans", "[", 
    RowBox[{"XMLElement", "[", 
     RowBox[{"\"\<span\>\"", ",", 
      RowBox[{"{", 
       RowBox[{"\"\<class\>\"", "\[Rule]", "\"\<cell\>\""}], "}"}], ",", 
      "ss_"}], "]"}], "]"}], " ", ":=", " ", 
   RowBox[{"Splice", "[", 
    RowBox[{"processSpans", "/@", "ss"}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"processSpans", "[", 
    RowBox[{"XMLElement", "[", 
     RowBox[{"\"\<a\>\"", ",", "_", ",", "ss_"}], "]"}], "]"}], " ", ":=", 
   " ", 
   RowBox[{"Splice", "[", 
    RowBox[{"processSpans", "/@", "ss"}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"processSpans", "[", "e_", "]"}], " ", ":=", " ", "Nothing"}], 
  ";"}]}], "Code",
 CellChangeTimes->{{3.7975651385638113`*^9, 3.797565149305797*^9}, {
  3.797565187139043*^9, 3.797565189704496*^9}, {3.797565253634577*^9, 
  3.797565257038487*^9}, {3.7975653161169147`*^9, 3.797565377629096*^9}, {
  3.7975662687744207`*^9, 3.797566279570889*^9}},
 CellLabel->
  "In[358]:=",ExpressionUUID->"0e7b573c-d250-4080-b8c4-77d7b427f8b3"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"Function", "[", 
   RowBox[{"rawHTML", ",", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", "rawLines", "}"}], ",", "\n", "\t\t", 
      RowBox[{
       RowBox[{"rawLines", " ", "=", " ", 
        RowBox[{"rawHTML", "[", 
         RowBox[{"[", 
          RowBox[{
          "2", ",", "3", ",", "2", ",", "3", ",", "1", ",", "3", ",", "2", 
           ",", "3"}], "]"}], "]"}]}], ";", "\n", "\t\t", 
       RowBox[{
        RowBox[{"Function", "[", 
         RowBox[{"line", ",", " ", 
          RowBox[{"Catch", "@", 
           RowBox[{"Module", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
              "lineDesignation", ",", "lineNumber", ",", "lineFragments"}], 
              "}"}], ",", "\n", "\t\t\t", 
             RowBox[{
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"Lookup", "[", 
                  RowBox[{
                   RowBox[{"line", "[", 
                    RowBox[{"[", "2", "]"}], "]"}], ",", "\"\<class\>\""}], 
                  "]"}], " ", "===", " ", "\"\<nonl\>\""}], ",", " ", 
                RowBox[{"Throw", "[", "\"\<Delimiter\>\"", "]"}]}], "]"}], 
              ";", "\n", "\t\t\t", 
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"Lookup", "[", 
                  RowBox[{
                   RowBox[{"line", "[", 
                    RowBox[{"[", "2", "]"}], "]"}], ",", "\"\<class\>\""}], 
                  "]"}], " ", "===", " ", "\"\<l\>\""}], ",", "\n", 
                "\t\t\t\t", 
                RowBox[{
                 RowBox[{"lineDesignation", " ", "=", " ", 
                  RowBox[{"Lookup", "[", 
                   RowBox[{
                    RowBox[{"line", "[", 
                    RowBox[{"[", 
                    RowBox[{"3", ",", "1", ",", "3", ",", "1", ",", "2"}], 
                    "]"}], "]"}], ",", "\"\<name\>\""}], "]"}]}], ";", "\n", 
                 "\t\t\t\t", 
                 RowBox[{"lineNumber", " ", "=", " ", 
                  RowBox[{"line", "[", 
                   RowBox[{"[", 
                    RowBox[{
                    "3", ",", "1", ",", "3", ",", "1", ",", "3", ",", "1", 
                    ",", "3", ",", "1"}], "]"}], "]"}]}], ";", "\n", 
                 "\t\t\t\t", 
                 RowBox[{"lineFragments", " ", "=", " ", 
                  RowBox[{"StringReplace", "[", 
                   RowBox[{
                    RowBox[{"processParagraph", "@", "\n", "\t\t\t\t\t\t\t", 
                    RowBox[{"Riffle", "[", 
                    RowBox[{
                    RowBox[{"DeleteCases", "[", 
                    RowBox[{
                    RowBox[{"line", "[", 
                    RowBox[{"[", 
                    RowBox[{
                    "3", ",", "3", ",", "3", ",", "1", ",", "3", ",", "3", 
                    ",", "3"}], "]"}], "]"}], ",", 
                    RowBox[{"s_String", "/;", 
                    RowBox[{"s", "=!=", "\"\<...\>\""}]}]}], "]"}], ",", 
                    "\"\< \>\""}], "]"}]}], ",", "\n", "\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"\"\< \>\"", ".."}], "\[Rule]", "\"\< \>\""}]}], 
                   "]"}]}], ";", "\n", "\t\t\t\t", 
                 RowBox[{"Throw", "[", 
                  RowBox[{"{", 
                   RowBox[{
                   "lineNumber", ",", "lineDesignation", ",", 
                    "lineFragments"}], "}"}], "]"}], ";"}]}], "\n", "\t\t\t", 
               "]"}], ";", "\n", "\t\t\t", "Nothing"}]}], "\n", "\t\t", 
            "]"}]}]}], "]"}], "/@", "rawLines"}]}]}], "\n", "\t", "]"}]}], 
   "\n", "]"}], "@", 
  RowBox[{"allHTML", "[", 
   RowBox[{"[", "100", "]"}], "]"}]}]], "Code",
 CellChangeTimes->CompressedData["
1:eJxTTMoPSmViYGAQA2IQvYtho6m79xvHx11xFiD63r4EGxDNOHWlA4jeUMrt
AaIzsiSCQXStSEY0iNbLM8oF0WlrAopB9LoHIZUgumWd6yQQrcVgPRlEV8Vv
mQ2iVffvANP2DZILwHzF7+tBdE6+8jUQnd/0/TqI1lSKvAOiO7zZ34Do21Ol
PoLooncWYLrsvcYvEP1r1RMwvVNaxcUDSGt8WuoBopM2GAaCaIZ1l0NA9L5y
uWgQfWWOayKIPn+mKxVEK8y4DKZfyL3NBNORV+tB9J1LZ5tB9NfrX1vA5vS9
7wDRKzQtekD0NFXFxSD6p03vWhD9h9dwJ4i+EL57F4gW2DP/Dtg+Y9/7IBoA
Viyn0w==
  "],
 CellLabel->
  "In[385]:=",ExpressionUUID->"abca5d64-afbd-41ce-902d-3a977349d555"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"\<\"o\[NonBreakingSpace]1'\"\>", ",", "\<\"a.X201701.2\"\>", ",", 
     RowBox[{"{", "\<\"sacrifices\"\>", "}"}]}], "}"}], 
   ",", "\<\"Delimiter\"\>", ",", 
   RowBox[{"{", 
    RowBox[{"\<\"o\[NonBreakingSpace]2'\"\>", ",", "\<\"a.X201701.4\"\>", ",", 
     RowBox[{"{", 
      RowBox[{"\<\"Month II\"\>", 
       ",", "\<\"the moon being 5 cubits high to the north\"\>"}], "}"}]}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"o\[NonBreakingSpace]3'\"\>", ",", "\<\"a.X201701.5\"\>", ",", 
     RowBox[{"{", 
      RowBox[{"\<\"of the night the moon was\"\>", 
       ",", "\<\"above \[Delta] Cancri\"\>"}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"o\[NonBreakingSpace]4'\"\>", ",", "\<\"a.X201701.6\"\>", ",", 
     RowBox[{"{", 
      RowBox[{"\<\"Night of the 6th beginning of the night the moon was 1 \
cubit\"\>", 
       ",", "\<\"\[Alpha] Leonis Night of the 7th beginning of the night the \
moon was 3 cubits below \[CurlyTheta] Leonis\"\>"}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"o\[NonBreakingSpace]5'\"\>", ",", "\<\"a.X201701.7\"\>", ",", 
     RowBox[{
     "{", "\<\"Night of the 9th of the night the moon was 2 cubits below \
\[Gamma] Virginis\"\>", "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"o\[NonBreakingSpace]6'\"\>", ",", "\<\"a.X201701.8\"\>", ",", 
     RowBox[{
     "{", "\<\"first part of the night Mars was 4 cubits below \
\[CurlyEpsilon] Leonis Night of the 13th beginning of the night the\"\>", 
      "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"o\[NonBreakingSpace]7'\"\>", ",", "\<\"a.X201701.9\"\>", ",", 
     RowBox[{"{", 
      RowBox[{"\<\"Night of the 15th the moon was 2 1/2 cubits\"\>", 
       ",", "\<\"\[CurlyTheta] The 15th moonset to sunrise 6\[Degree] 50 \
measured Night of the 16th sunset to moonrise 4\[Degree]\"\>"}], "}"}]}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"o\[NonBreakingSpace]8'\"\>", ",", "\<\"a.X201701.10\"\>", 
     ",", 
     RowBox[{
     "{", "\<\"low to the south The 20th Jupiter\[CloseCurlyQuote]s first \
appearance in Taurus it was bright and high rising of Jupiter to sunrise 12\
\[Degree] 30 ideal first appearance on the 18th\"\>", "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"o\[NonBreakingSpace]9'\"\>", ",", "\<\"a.X201701.11\"\>", 
     ",", 
     RowBox[{
     "{", "\<\"last part of the night Venus was 3 cubits below \[Eta] Tauri \
Night of the 26th last part of the night the moon was mm behind \[Eta] \
Tauri\"\>", "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"o\[NonBreakingSpace]10'\"\>", ",", "\<\"a.X201701.12\"\>", 
     ",", 
     RowBox[{
     "{", "\<\"Night of the 28th last part of the night the moon was 3 cubits \
behind \[Beta] Tauri 3 1/2 cubits behind Jupiter the moon being 4 cubits high \
to the north\"\>", "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"o\[NonBreakingSpace]11'\"\>", ",", "\<\"a.X201701.13\"\>", 
     ",", 
     RowBox[{
     "{", "\<\"3 sesame 4 wool 4 1/2 minas At that time around the 18th \
Jupiter\[CloseCurlyQuote]s first appearance in\"\>", "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"o\[NonBreakingSpace]12'\"\>", ",", "\<\"a.X201701.14\"\>", 
     ",", 
     RowBox[{
     "{", "\<\"the river level receded 4 fingers total 17 was the na-gauge \
That month the 25th the temple E-nam-dumu\"\>", "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"o\[NonBreakingSpace]13'\"\>", ",", "\<\"a.X201701.15\"\>", 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"a man who\"\>", ",", "\<\"the ak\:012btu temple\"\>"}], 
      "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"o\[NonBreakingSpace]14'\"\>", ",", "\<\"a.X201701.16\"\>", 
     ",", 
     RowBox[{"{", "\<\"merry-making was set up in the land\"\>", "}"}]}], 
    "}"}], ",", "\<\"Delimiter\"\>", ",", 
   RowBox[{"{", 
    RowBox[{"\<\"o\[NonBreakingSpace]15'\"\>", ",", "\<\"a.X201701.18\"\>", 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"Month III the 1st of which followed the 30th of the \
preceding month cubits the moon being 4 cubits low to the south first part of \
the night Saturn was 1/2 cubit above \[Beta] Virginis Night of the 3rd the \
moon was\"\>", ",", "\<\"\[Alpha] Leonis\"\>"}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"o\[NonBreakingSpace]16'\"\>", ",", "\<\"a.X201701.19\"\>", 
     ",", 
     RowBox[{
     "{", "\<\"low to the south Night of the 5th beginning of the night the \
moon was 1/2 cubit below \[Beta] Virginis the moon having passed 1/2 cubit to \
the west\"\>", "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"o\[NonBreakingSpace]17'\"\>", ",", "\<\"a.X201701.20\"\>", 
     ",", 
     RowBox[{
     "{", "\<\"2 1/2 cubits Night of the 9th beginning of the night the moon \
was 1 cubit in front of \[Alpha] Librae Night of the 10th beginning of the \
night the moon was in\"\>", "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"o\[NonBreakingSpace]18'\"\>", ",", "\<\"a.X201701.21\"\>", 
     ",", 
     RowBox[{
     "{", "\<\"the moon was 2 cubits in front of \[Alpha] Scorpii Night of \
the 12th beginning of the the moon was 2 cubits in front of \[CurlyTheta] \
Ophiuchi The 14th moonset to sunrise 11\[Degree]\"\>", "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"o\[NonBreakingSpace]19'\"\>", ",", "\<\"a.X201701.22\"\>", 
     ",", 
     RowBox[{
     "{", "\<\"Night of the 16th sunset to moonrise 15\[Degree] last part of \
the night the moon was 3 cubits in front of \[Gamma] Capricorni the moon \
being 1 1/2 cubits low to the south The 16th\"\>", "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"o\[NonBreakingSpace]20'\"\>", ",", "\<\"a.X201701.23\"\>", 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"back to the west last part of the night Venus was 2/3 \
cubit below Jupiter Night of the 22nd last part of the night the was\"\>", 
       ",", "\<\"\[Alpha]\"\>"}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"o\[NonBreakingSpace]21'\"\>", ",", "\<\"a.X201701.24\"\>", 
     ",", 
     RowBox[{
     "{", "\<\"of the 24th last part of the night the moon was 5 cubits above \
\[Alpha] Tauri the moon having passed a little to the east\"\>", "}"}]}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"o\[NonBreakingSpace]22'\"\>", ",", "\<\"a.X201701.25\"\>", 
     ",", 
     RowBox[{
     "{", "\<\"Night of the 25th last part of the night the moon was 1 1/2 \
cubits in front of Venus the moon being 3 cubits high to the north Night of \
the 26th\"\>", "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"o\[NonBreakingSpace]23'\"\>", ",", "\<\"a.X201701.26\"\>", 
     ",", 
     RowBox[{
     "{", "\<\"low it stood 2 cubits in front of Mercury to the west The 27th\
\"\>", "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"o\[NonBreakingSpace]24'\"\>", ",", "\<\"a.X201701.27\"\>", 
     ",", 
     RowBox[{"{", "\<\"1 2 sesame 3 3\"\>", "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"o\[NonBreakingSpace]25'\"\>", ",", "\<\"a.X201701.28\"\>", 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"That the river level\"\>", ",", "\<\"1\"\>"}], "}"}]}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"r\[NonBreakingSpace]1'\"\>", ",", "\<\"a.X201701.30\"\>", 
     ",", 
     RowBox[{"{", "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"r\[NonBreakingSpace]2'\"\>", ",", "\<\"a.X201701.31\"\>", 
     ",", 
     RowBox[{
     "{", "\<\"Night of the 19th last part of the night the\"\>", "}"}]}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"r\[NonBreakingSpace]3'\"\>", ",", "\<\"a.X201701.32\"\>", 
     ",", 
     RowBox[{
     "{", "\<\"Night of the 21st last part of the night the moon was 3 cubits \
in front of \[Alpha] Tauri the moon being\"\>", "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"r\[NonBreakingSpace]4'\"\>", ",", "\<\"a.X201701.33\"\>", 
     ",", 
     RowBox[{
     "{", "\<\"having passed to the east Night of the 25th last part of the \
night the moon was in front of\"\>", "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"r\[NonBreakingSpace]5'\"\>", ",", "\<\"a.X201701.34\"\>", 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"Night of the 29th last part of the night Venus was\"\>", 
       ",", "\<\"above \[Delta]\"\>"}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"r\[NonBreakingSpace]6'\"\>", ",", "\<\"a.X201701.35\"\>", 
     ",", 
     RowBox[{
     "{", "\<\"5 wool 4 minas At that time Jupiter was in\"\>", "}"}]}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"r\[NonBreakingSpace]7'\"\>", ",", "\<\"a.X201701.36\"\>", 
     ",", 
     RowBox[{
     "{", "\<\"That month the river level receded 8 fingers total 31 was the \
na-gauge\"\>", "}"}]}], "}"}], ",", "\<\"Delimiter\"\>", ",", 
   RowBox[{"{", 
    RowBox[{"\<\"r\[NonBreakingSpace]8'\"\>", ",", "\<\"a.X201701.38\"\>", 
     ",", 
     RowBox[{
     "{", "\<\"Month V the 1st of which was identical with the 30th of the \
preceding month sunset to moonset nn\[Degree] it was faint it was low to the \
sun the moon stood 3 cubits in front of Mars 5 cubits in front of to the west\
\"\>", "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"r\[NonBreakingSpace]9'\"\>", ",", "\<\"a.X201701.39\"\>", 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"Night of the 4th the moon was 4 1/2 cubits in front of \
\[Alpha] Librae Night of the 5th beginning of the night the moon was\"\>", 
       ",", "\<\"behind \[Beta]\"\>"}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"r\[NonBreakingSpace]10'\"\>", ",", "\<\"a.X201701.40\"\>", 
     ",", 
     RowBox[{
     "{", "\<\"Night of the 7th beginning of the night the moon was 1/2 cubit \
below \[Alpha] Scorpii the moon having passed 1/2 cubit to the east Night of \
the 7th beginning of the\"\>", "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"r\[NonBreakingSpace]11'\"\>", ",", "\<\"a.X201701.41\"\>", 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"4 fingers\"\>", 
       ",", "\<\"Geminorum Night of the 11th beginning of the night the moon \
was\"\>"}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"r\[NonBreakingSpace]12'\"\>", ",", "\<\"a.X201701.42\"\>", 
     ",", 
     RowBox[{
     "{", "\<\"when the moon came out it was completely covered when it began \
to clear\"\>", "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"r\[NonBreakingSpace]13'\"\>", ",", "\<\"a.X201701.43\"\>", 
     ",", 
     RowBox[{
     "{", "\<\"the remainder of the did not stand there it was eclipsed in \
the end of Aquarius at 42\[Degree] before sunset The 15th\"\>", "}"}]}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"r\[NonBreakingSpace]14'\"\>", ",", "\<\"a.X201701.44\"\>", 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"3 1/2 cubits\"\>", 
       ",", "\<\"\[Alpha] Arietis Night of the 19th last part of the night \
the moon was 1 1/2 cubits behind \[Eta] Tauri Night of the 20th\"\>", 
       ",", "\<\"Night of the 21st last part of the night the moon\"\>"}], 
      "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"r\[NonBreakingSpace]15'\"\>", ",", "\<\"a.X201701.45\"\>", 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"stood\"\>", 
       ",", "\<\"in front of Jupiter to the west the moon being 2 1/2 cubits \
high to the north Night of the 22nd last part of the night the moon was\"\>", 
       ",", "\<\"in front of \[Alpha] Geminorum\"\>", 
       ",", "\<\"Night of the 26th last part of the night the moon\"\>"}], 
      "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"r\[NonBreakingSpace]16'\"\>", ",", "\<\"a.X201701.46\"\>", 
     ",", 
     RowBox[{
     "{", "\<\"it stood 2 cubits in front of to the west Night of the 27th \
last part of the night Jupiter was 4 fingers above \[Mu] Geminorum The 27th \
moonrise to sunrise\"\>", "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"r\[NonBreakingSpace]17'\"\>", ",", "\<\"a.X201701.47\"\>", 
     ",", 
     RowBox[{"{", "\<\"sesame 4 wool 5 minas At that time\"\>", "}"}]}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"r\[NonBreakingSpace]18'\"\>", ",", "\<\"a.X201701.48\"\>", 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"around the 7th Saturn\[CloseCurlyQuote]s last appearance \
in Virgo That month the river level\"\>", ",", "\<\"8\"\>"}], "}"}]}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"\<\"r\[NonBreakingSpace]19'\"\>", ",", "\<\"a.X201701.49\"\>", 
     ",", 
     RowBox[{"{", "\<\"of Babylon carried\"\>", "}"}]}], "}"}], 
   ",", "\<\"Delimiter\"\>", ",", 
   RowBox[{"{", 
    RowBox[{"\<\"r\[NonBreakingSpace]20'\"\>", ",", "\<\"a.X201701.51\"\>", 
     ",", 
     RowBox[{
     "{", "\<\"Month VI the 1st of which followed the 30th of the preceding \
month Night of the 2nd last part of the night Venus was 5 cubits below \
\[CurlyTheta] Leonis Night of the 3rd the moon was\"\>", "}"}]}], "}"}], ",", 
   
   RowBox[{"{", 
    RowBox[{"\<\"r\[NonBreakingSpace]21'\"\>", ",", "\<\"a.X201701.52\"\>", 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"Night of the 4th the moon was\"\>", 
       ",", "\<\"\[Alpha] Scorpii the moon being 1/2 cubit low to the south \
Night of the 5th beginning of the night the moon was\"\>"}], "}"}]}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"\<\"r\[NonBreakingSpace]22'\"\>", ",", "\<\"a.X201701.53\"\>", 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"1/2 cubit\"\>", 
       ",", "\<\"\[Delta] the moon being 1/2 cubit back to the west Around \
the\"\>"}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"r\[NonBreakingSpace]23'\"\>", ",", "\<\"a.X201701.54\"\>", 
     ",", 
     RowBox[{
     "{", "\<\"Saturn\[CloseCurlyQuote]s first appearance in Virgo it was and \
high rising of Saturn to sunrise 17\[Degree] ideal first appearance on the \
12th\"\>", "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"r\[NonBreakingSpace]24'\"\>", ",", "\<\"a.X201701.55\"\>", 
     ",", 
     RowBox[{
     "{", "\<\"2 1/2 cubits the moon having passed a little to the east\"\>", 
      "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"r\[NonBreakingSpace]25'\"\>", ",", "\<\"a.X201701.56\"\>", 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"when Jupiter became stationary to the east it became \
stationary\"\>", 
       ",", "\<\"behind \[Mu] Geminorum the moon being 4 fingers high to the \
north\"\>"}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"r\[NonBreakingSpace]26'\"\>", ",", "\<\"a.X201701.57\"\>", 
     ",", 
     RowBox[{
     "{", "\<\"of the 21st last part of the night the monn was above\"\>", 
      "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"r\[NonBreakingSpace]27'\"\>", ",", "\<\"a.X201701.58\"\>", 
     ",", 
     RowBox[{
     "{", "\<\"Night of the 23rd last part of the the moon was mm behind \
\[Alpha] Leonis\"\>", "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"r\[NonBreakingSpace]28'\"\>", ",", "\<\"a.X201701.59\"\>", 
     ",", 
     RowBox[{"{", "\<\"2 mm below Saturn\"\>", "}"}]}], "}"}]}], 
  "}"}]], "Output",
 CellChangeTimes->{{3.797566360969996*^9, 3.79756642231993*^9}, {
   3.797566453689533*^9, 3.7975664629490013`*^9}, 3.797566504896541*^9, {
   3.797566538914572*^9, 3.797566562055606*^9}, {3.7975667602249928`*^9, 
   3.797566767907753*^9}, 3.7975667979689407`*^9, 3.7975668298048897`*^9, 
   3.797566934346592*^9, 3.79756722674074*^9},
 CellLabel->
  "Out[385]=",ExpressionUUID->"4e466b24-7988-4ea8-97d7-cc4d9e0b9fbc"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"Lookup", "[", "\"\<class\>\"", "]"}], "/@", 
  RowBox[{"Catenate", "[", 
   RowBox[{"Values", "@", 
    RowBox[{"allHTML", "[", 
     RowBox[{"[", 
      RowBox[{
      "All", ",", "2", ",", "3", ",", "2", ",", "3", ",", "1", ",", "3", ",", 
       "2", ",", "3", ",", "All", ",", "2"}], "]"}], "]"}]}], 
   "]"}]}]], "Input",
 CellLabel->
  "In[160]:=",ExpressionUUID->"96d29a14-6d84-43db-8077-95e070a7a4d9"],

Cell[BoxData[
 InterpretationBox[
  TagBox[
   FrameBox[GridBox[{
      {
       ItemBox[
        TagBox[
         RowBox[{"{", 
          
          RowBox[{"\<\"l p2\"\>", ",", "\<\"h surface\"\>", 
           ",", "\<\"nonl\"\>", ",", "\<\"l\"\>", ",", "\<\"l\"\>", 
           ",", "\<\"l\"\>", ",", "\<\"l\"\>", ",", "\<\"l\"\>", 
           ",", "\<\"l\"\>", ",", "\<\"l\"\>", ",", "\<\"l\"\>", 
           ",", "\<\"h surface\"\>", ",", "\<\"l\"\>", ",", "\<\"l\"\>", 
           ",", "\<\"l\"\>", ",", "\<\"nonl\"\>", ",", "\<\"l\"\>", 
           ",", "\<\"l\"\>", ",", "\<\"l\"\>", ",", "\<\"l\"\>", 
           ",", "\<\"l\"\>", ",", "\<\"l\"\>", ",", "\<\"h surface\"\>", 
           ",", "\<\"l\"\>", ",", "\<\"l p2\"\>", ",", "\<\"h surface\"\>", 
           ",", "\<\"l\"\>", ",", "\<\"l\"\>", ",", "\<\"l\"\>", 
           ",", "\<\"l\"\>", ",", "\<\"nonl\"\>", ",", 
           TemplateBox[{"13793"},
            "OutputSizeLimit`Skeleton"], ",", "\<\"l\"\>", ",", "\<\"l\"\>", 
           ",", "\<\"l\"\>", ",", "\<\"l\"\>", ",", "\<\"l\"\>", 
           ",", "\<\"l\"\>", ",", "\<\"l\"\>", ",", "\<\"l\"\>", 
           ",", "\<\"nonl\"\>", ",", "\<\"l\"\>", ",", "\<\"l\"\>", 
           ",", "\<\"l\"\>", ",", "\<\"nonl\"\>", ",", "\<\"l\"\>", 
           ",", "\<\"l\"\>", ",", "\<\"l\"\>", ",", "\<\"l\"\>", 
           ",", "\<\"l\"\>", ",", "\<\"l\"\>", ",", "\<\"l\"\>", 
           ",", "\<\"l\"\>", ",", "\<\"l\"\>", ",", "\<\"l\"\>", 
           ",", "\<\"l\"\>", ",", "\<\"l\"\>", ",", "\<\"l\"\>", 
           ",", "\<\"l\"\>", ",", "\<\"l\"\>", ",", "\<\"l\"\>", 
           ",", "\<\"h surface\"\>", ",", "\<\"nonl\"\>"}], "}"}],
         Short[#, 5]& ],
        BaseStyle->{Deployed -> False},
        StripOnInput->False]},
      {GridBox[{
         {
          PaneBox[
           TagBox[
            TooltipBox[
             StyleBox[
              StyleBox[
               DynamicBox[ToBoxes[
                 FEPrivate`FrontEndResource[
                 "FEStrings", "sizeBriefExplanation"], StandardForm],
                ImageSizeCache->{59., {2., 8.}}],
               StripOnInput->False,
               DynamicUpdating->True,
               LineSpacing->{1, 2},
               LineIndent->0,
               LinebreakAdjustments->{1., 100, 0, 0, 0}], "OSLText",
              StripOnInput->False],
             StyleBox[
              DynamicBox[
               ToBoxes[
                FEPrivate`FrontEndResource["FEStrings", "sizeExplanation"], 
                StandardForm]], DynamicUpdating -> True, LineIndent -> 0, 
              LinebreakAdjustments -> {1., 100, 0, 0, 0}, 
              LineSpacing -> {1, 2}, StripOnInput -> False]],
            Annotation[#, 
             Style[
              Dynamic[
               FEPrivate`FrontEndResource["FEStrings", "sizeExplanation"]], 
              DynamicUpdating -> True, LineIndent -> 0, 
              LinebreakAdjustments -> {1., 100, 0, 0, 0}, 
              LineSpacing -> {1, 2}], "Tooltip"]& ],
           Alignment->Center,
           BaselinePosition->Baseline,
           ImageSize->{Automatic, {25, Full}}], 
          ButtonBox[
           PaneSelectorBox[{False->
            StyleBox[
             StyleBox[
              DynamicBox[ToBoxes[
                FEPrivate`FrontEndResource["FEStrings", "sizeShowLess"], 
                StandardForm],
               ImageSizeCache->{51., {0., 8.}}],
              StripOnInput->False,
              DynamicUpdating->True,
              LineSpacing->{1, 2},
              LineIndent->0,
              LinebreakAdjustments->{1., 100, 0, 0, 0}], "OSLControl",
             StripOnInput->False], True->
            StyleBox[
             StyleBox[
              DynamicBox[ToBoxes[
                FEPrivate`FrontEndResource["FEStrings", "sizeShowLess"], 
                StandardForm]],
              StripOnInput->False,
              DynamicUpdating->True,
              LineSpacing->{1, 2},
              LineIndent->0,
              LinebreakAdjustments->{1., 100, 0, 0, 0}], "OSLControlActive",
             StripOnInput->False]}, Dynamic[
             CurrentValue["MouseOver"]],
            Alignment->Center,
            FrameMargins->0,
            ImageSize->{Automatic, {25, Full}}],
           Appearance->None,
           BaselinePosition->Baseline,
           
           ButtonFunction:>OutputSizeLimit`ButtonFunction[
            OutputSizeLimit`Defer, 160, 18668934877581894317, 5/2],
           Enabled->True,
           Evaluator->Automatic,
           Method->"Queued"], 
          ButtonBox[
           PaneSelectorBox[{False->
            StyleBox[
             StyleBox[
              DynamicBox[ToBoxes[
                FEPrivate`FrontEndResource["FEStrings", "sizeShowMore"], 
                StandardForm],
               ImageSizeCache->{56., {0., 8.}}],
              StripOnInput->False,
              DynamicUpdating->True,
              LineSpacing->{1, 2},
              LineIndent->0,
              LinebreakAdjustments->{1., 100, 0, 0, 0}], "OSLControl",
             StripOnInput->False], True->
            StyleBox[
             StyleBox[
              DynamicBox[ToBoxes[
                FEPrivate`FrontEndResource["FEStrings", "sizeShowMore"], 
                StandardForm]],
              StripOnInput->False,
              DynamicUpdating->True,
              LineSpacing->{1, 2},
              LineIndent->0,
              LinebreakAdjustments->{1., 100, 0, 0, 0}], "OSLControlActive",
             StripOnInput->False]}, Dynamic[
             CurrentValue["MouseOver"]],
            Alignment->Center,
            FrameMargins->0,
            ImageSize->{Automatic, {25, Full}}],
           Appearance->None,
           BaselinePosition->Baseline,
           
           ButtonFunction:>OutputSizeLimit`ButtonFunction[
            OutputSizeLimit`Defer, 160, 18668934877581894317, 5 2],
           Enabled->True,
           Evaluator->Automatic,
           Method->"Queued"], 
          ButtonBox[
           PaneSelectorBox[{False->
            StyleBox[
             StyleBox[
              DynamicBox[ToBoxes[
                FEPrivate`FrontEndResource["FEStrings", "sizeShowAll"], 
                StandardForm],
               ImageSizeCache->{42., {0., 8.}}],
              StripOnInput->False,
              DynamicUpdating->True,
              LineSpacing->{1, 2},
              LineIndent->0,
              LinebreakAdjustments->{1., 100, 0, 0, 0}], "OSLControl",
             StripOnInput->False], True->
            StyleBox[
             StyleBox[
              DynamicBox[ToBoxes[
                FEPrivate`FrontEndResource["FEStrings", "sizeShowAll"], 
                StandardForm]],
              StripOnInput->False,
              DynamicUpdating->True,
              LineSpacing->{1, 2},
              LineIndent->0,
              LinebreakAdjustments->{1., 100, 0, 0, 0}], "OSLControlActive",
             StripOnInput->False]}, Dynamic[
             CurrentValue["MouseOver"]],
            Alignment->Center,
            FrameMargins->0,
            ImageSize->{Automatic, {25, Full}}],
           Appearance->None,
           BaselinePosition->Baseline,
           
           ButtonFunction:>OutputSizeLimit`ButtonFunction[
            OutputSizeLimit`Defer, 160, 18668934877581894317, Infinity],
           Enabled->True,
           Evaluator->Automatic,
           Method->"Queued"], 
          ButtonBox[
           PaneSelectorBox[{False->
            StyleBox[
             StyleBox[
              DynamicBox[ToBoxes[
                FEPrivate`FrontEndResource["FEStrings", "sizeChangeLimit"], 
                StandardForm],
               ImageSizeCache->{77., {0., 8.}}],
              StripOnInput->False,
              DynamicUpdating->True,
              LineSpacing->{1, 2},
              LineIndent->0,
              LinebreakAdjustments->{1., 100, 0, 0, 0}], "OSLControl",
             StripOnInput->False], True->
            StyleBox[
             StyleBox[
              DynamicBox[ToBoxes[
                FEPrivate`FrontEndResource["FEStrings", "sizeChangeLimit"], 
                StandardForm]],
              StripOnInput->False,
              DynamicUpdating->True,
              LineSpacing->{1, 2},
              LineIndent->0,
              LinebreakAdjustments->{1., 100, 0, 0, 0}], "OSLControlActive",
             StripOnInput->False]}, Dynamic[
             CurrentValue["MouseOver"]],
            Alignment->Center,
            FrameMargins->0,
            ImageSize->{Automatic, {25, Full}}],
           Appearance->None,
           BaselinePosition->Baseline,
           ButtonFunction:>FrontEndExecute[{
              FrontEnd`SetOptions[
              FrontEnd`$FrontEnd, 
               FrontEnd`PreferencesSettings -> {"Page" -> "Advanced"}], 
              FrontEnd`FrontEndToken["PreferencesDialog"]}],
           Evaluator->None,
           Method->"Preemptive"]}
        },
        AutoDelete->False,
        FrameStyle->GrayLevel[0.85],
        GridBoxDividers->{"Columns" -> {False, {True}}},
        GridBoxItemSize->{"Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}},
        GridBoxSpacings->{"Columns" -> {{2}}}]}
     },
     DefaultBaseStyle->"Column",
     GridBoxAlignment->{"Columns" -> {{Left}}, "Rows" -> {{Baseline}}},
     GridBoxDividers->{"Columns" -> {{False}}, "Rows" -> {{False}}},
     GridBoxItemSize->{"Columns" -> {{Automatic}}, "Rows" -> {{1.}}},
     GridBoxSpacings->{"Columns" -> {
         Offset[0.27999999999999997`], {
          Offset[0.5599999999999999]}, 
         Offset[0.27999999999999997`]}, "Rows" -> {
         Offset[0.2], 
         Offset[1.2], {
          Offset[0.4]}, 
         Offset[0.2]}}],
    BaseStyle->"OutputSizeLimit",
    FrameMargins->{{12, 12}, {0, 15}},
    FrameStyle->GrayLevel[0.85],
    RoundingRadius->5,
    StripOnInput->False],
   Deploy,
   DefaultBaseStyle->"Deploy"],
  If[18668934877581894317 === $SessionID, 
   Out[160], Message[
     MessageName[Syntax, "noinfoker"]]; Missing["NotAvailable"]; 
   Null]]], "Output",
 CellChangeTimes->{3.797562731166134*^9},
 CellLabel->
  "Out[160]=",ExpressionUUID->"311a0d4d-d182-4958-acd3-f94a56f50d47"]
}, Closed]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"RandomSample", "[", 
  RowBox[{
   RowBox[{"allHTML", "[", 
    RowBox[{"[", 
     RowBox[{
     "All", ",", "2", ",", "3", ",", "2", ",", "3", ",", "1", ",", "3", ",", 
      "2", ",", "3"}], "]"}], "]"}], ",", "5"}], "]"}]], "Input",
 CellChangeTimes->{{3.797562579028572*^9, 3.797562649257071*^9}},
 CellLabel->
  "In[149]:=",ExpressionUUID->"55523418-f079-4f57-b45e-86c2f9b4d4a9"],

Cell[BoxData[
 InterpretationBox[
  TagBox[
   FrameBox[GridBox[{
      {
       ItemBox[
        TagBox[
         TemplateBox[{"1"},
          "OutputSizeLimit`Skeleton"],
         Short[#, 5]& ],
        BaseStyle->{Deployed -> False},
        StripOnInput->False]},
      {GridBox[{
         {
          PaneBox[
           TagBox[
            TooltipBox[
             StyleBox[
              StyleBox[
               DynamicBox[ToBoxes[
                 FEPrivate`FrontEndResource[
                 "FEStrings", "sizeBriefExplanation"], StandardForm],
                ImageSizeCache->{59., {2., 8.}}],
               StripOnInput->False,
               DynamicUpdating->True,
               LineSpacing->{1, 2},
               LineIndent->0,
               LinebreakAdjustments->{1., 100, 0, 0, 0}], "OSLText",
              StripOnInput->False],
             StyleBox[
              DynamicBox[
               ToBoxes[
                FEPrivate`FrontEndResource["FEStrings", "sizeExplanation"], 
                StandardForm]], DynamicUpdating -> True, LineIndent -> 0, 
              LinebreakAdjustments -> {1., 100, 0, 0, 0}, 
              LineSpacing -> {1, 2}, StripOnInput -> False]],
            Annotation[#, 
             Style[
              Dynamic[
               FEPrivate`FrontEndResource["FEStrings", "sizeExplanation"]], 
              DynamicUpdating -> True, LineIndent -> 0, 
              LinebreakAdjustments -> {1., 100, 0, 0, 0}, 
              LineSpacing -> {1, 2}], "Tooltip"]& ],
           Alignment->Center,
           BaselinePosition->Baseline,
           ImageSize->{Automatic, {25, Full}}], 
          ButtonBox[
           PaneSelectorBox[{False->
            StyleBox[
             StyleBox[
              DynamicBox[ToBoxes[
                FEPrivate`FrontEndResource["FEStrings", "sizeShowLess"], 
                StandardForm],
               ImageSizeCache->{51., {0., 8.}}],
              StripOnInput->False,
              DynamicUpdating->True,
              LineSpacing->{1, 2},
              LineIndent->0,
              LinebreakAdjustments->{1., 100, 0, 0, 0}], "OSLControl",
             StripOnInput->False], True->
            StyleBox[
             StyleBox[
              DynamicBox[ToBoxes[
                FEPrivate`FrontEndResource["FEStrings", "sizeShowLess"], 
                StandardForm]],
              StripOnInput->False,
              DynamicUpdating->True,
              LineSpacing->{1, 2},
              LineIndent->0,
              LinebreakAdjustments->{1., 100, 0, 0, 0}], "OSLControlActive",
             StripOnInput->False]}, Dynamic[
             CurrentValue["MouseOver"]],
            Alignment->Center,
            FrameMargins->0,
            ImageSize->{Automatic, {25, Full}}],
           Appearance->None,
           BaselinePosition->Baseline,
           
           ButtonFunction:>OutputSizeLimit`ButtonFunction[
            OutputSizeLimit`Defer, 149, 18668934877581894317, 5/2],
           Enabled->True,
           Evaluator->Automatic,
           Method->"Queued"], 
          ButtonBox[
           PaneSelectorBox[{False->
            StyleBox[
             StyleBox[
              DynamicBox[ToBoxes[
                FEPrivate`FrontEndResource["FEStrings", "sizeShowMore"], 
                StandardForm],
               ImageSizeCache->{56., {0., 8.}}],
              StripOnInput->False,
              DynamicUpdating->True,
              LineSpacing->{1, 2},
              LineIndent->0,
              LinebreakAdjustments->{1., 100, 0, 0, 0}], "OSLControl",
             StripOnInput->False], True->
            StyleBox[
             StyleBox[
              DynamicBox[ToBoxes[
                FEPrivate`FrontEndResource["FEStrings", "sizeShowMore"], 
                StandardForm]],
              StripOnInput->False,
              DynamicUpdating->True,
              LineSpacing->{1, 2},
              LineIndent->0,
              LinebreakAdjustments->{1., 100, 0, 0, 0}], "OSLControlActive",
             StripOnInput->False]}, Dynamic[
             CurrentValue["MouseOver"]],
            Alignment->Center,
            FrameMargins->0,
            ImageSize->{Automatic, {25, Full}}],
           Appearance->None,
           BaselinePosition->Baseline,
           
           ButtonFunction:>OutputSizeLimit`ButtonFunction[
            OutputSizeLimit`Defer, 149, 18668934877581894317, 5 2],
           Enabled->True,
           Evaluator->Automatic,
           Method->"Queued"], 
          ButtonBox[
           PaneSelectorBox[{False->
            StyleBox[
             StyleBox[
              DynamicBox[ToBoxes[
                FEPrivate`FrontEndResource["FEStrings", "sizeShowAll"], 
                StandardForm],
               ImageSizeCache->{42., {0., 8.}}],
              StripOnInput->False,
              DynamicUpdating->True,
              LineSpacing->{1, 2},
              LineIndent->0,
              LinebreakAdjustments->{1., 100, 0, 0, 0}], "OSLControl",
             StripOnInput->False], True->
            StyleBox[
             StyleBox[
              DynamicBox[ToBoxes[
                FEPrivate`FrontEndResource["FEStrings", "sizeShowAll"], 
                StandardForm]],
              StripOnInput->False,
              DynamicUpdating->True,
              LineSpacing->{1, 2},
              LineIndent->0,
              LinebreakAdjustments->{1., 100, 0, 0, 0}], "OSLControlActive",
             StripOnInput->False]}, Dynamic[
             CurrentValue["MouseOver"]],
            Alignment->Center,
            FrameMargins->0,
            ImageSize->{Automatic, {25, Full}}],
           Appearance->None,
           BaselinePosition->Baseline,
           
           ButtonFunction:>OutputSizeLimit`ButtonFunction[
            OutputSizeLimit`Defer, 149, 18668934877581894317, Infinity],
           Enabled->True,
           Evaluator->Automatic,
           Method->"Queued"], 
          ButtonBox[
           PaneSelectorBox[{False->
            StyleBox[
             StyleBox[
              DynamicBox[ToBoxes[
                FEPrivate`FrontEndResource["FEStrings", "sizeChangeLimit"], 
                StandardForm],
               ImageSizeCache->{77., {0., 8.}}],
              StripOnInput->False,
              DynamicUpdating->True,
              LineSpacing->{1, 2},
              LineIndent->0,
              LinebreakAdjustments->{1., 100, 0, 0, 0}], "OSLControl",
             StripOnInput->False], True->
            StyleBox[
             StyleBox[
              DynamicBox[ToBoxes[
                FEPrivate`FrontEndResource["FEStrings", "sizeChangeLimit"], 
                StandardForm]],
              StripOnInput->False,
              DynamicUpdating->True,
              LineSpacing->{1, 2},
              LineIndent->0,
              LinebreakAdjustments->{1., 100, 0, 0, 0}], "OSLControlActive",
             StripOnInput->False]}, Dynamic[
             CurrentValue["MouseOver"]],
            Alignment->Center,
            FrameMargins->0,
            ImageSize->{Automatic, {25, Full}}],
           Appearance->None,
           BaselinePosition->Baseline,
           ButtonFunction:>FrontEndExecute[{
              FrontEnd`SetOptions[
              FrontEnd`$FrontEnd, 
               FrontEnd`PreferencesSettings -> {"Page" -> "Advanced"}], 
              FrontEnd`FrontEndToken["PreferencesDialog"]}],
           Evaluator->None,
           Method->"Preemptive"]}
        },
        AutoDelete->False,
        FrameStyle->GrayLevel[0.85],
        GridBoxDividers->{"Columns" -> {False, {True}}},
        GridBoxItemSize->{"Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}},
        GridBoxSpacings->{"Columns" -> {{2}}}]}
     },
     DefaultBaseStyle->"Column",
     GridBoxAlignment->{"Columns" -> {{Left}}, "Rows" -> {{Baseline}}},
     GridBoxDividers->{"Columns" -> {{False}}, "Rows" -> {{False}}},
     GridBoxItemSize->{"Columns" -> {{Automatic}}, "Rows" -> {{1.}}},
     GridBoxSpacings->{"Columns" -> {
         Offset[0.27999999999999997`], {
          Offset[0.5599999999999999]}, 
         Offset[0.27999999999999997`]}, "Rows" -> {
         Offset[0.2], 
         Offset[1.2], {
          Offset[0.4]}, 
         Offset[0.2]}}],
    BaseStyle->"OutputSizeLimit",
    FrameMargins->{{12, 12}, {0, 15}},
    FrameStyle->GrayLevel[0.85],
    RoundingRadius->5,
    StripOnInput->False],
   Deploy,
   DefaultBaseStyle->"Deploy"],
  If[18668934877581894317 === $SessionID, 
   Out[149], Message[
     MessageName[Syntax, "noinfoker"]]; Missing["NotAvailable"]; 
   Null]]], "Output",
 CellChangeTimes->{{3.797562589244939*^9, 3.797562649648171*^9}},
 CellLabel->
  "Out[149]=",ExpressionUUID->"cae4ef7f-5420-425b-895c-1a2274770780"]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell["Processing (XML/TEI)", "Subsection",
 CellChangeTimes->{{3.798122847639845*^9, 
  3.798122852399747*^9}},ExpressionUUID->"5d9899d1-ef42-4737-9d36-\
b85da7680815"],

Cell[BoxData[
 RowBox[{
  RowBox[{"xmlPaths", "=", 
   RowBox[{"Association", "[", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"FileBaseName", "[", "#", "]"}], "\[Rule]", "#"}], "&"}], "/@", 
     RowBox[{"FileNames", "[", 
      RowBox[{"FileNameJoin", "[", 
       RowBox[{"{", 
        RowBox[{
        "dataDirectory", ",", "\"\<adsdTEI\>\"", ",", "\"\<rawXML\>\"", ",", 
         "\"\<*.xml\>\""}], "}"}], "]"}], "]"}]}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.794611915926258*^9, 3.7946119386485786`*^9}, {
   3.794651052490196*^9, 3.7946510699911013`*^9}, 3.808330703947133*^9},
 CellLabel->"In[17]:=",ExpressionUUID->"db1d9090-6f9b-4c09-8e63-74f5a2c9d7ea"],

Cell[BoxData[
 RowBox[{
  RowBox[{"allXML", "=", 
   RowBox[{"GeneralUtilities`MonitoredMap", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"Import", "[", 
       RowBox[{"#", ",", "\"\<XML\>\"", ",", 
        RowBox[{"\"\<NormalizeWhitespace\>\"", "\[Rule]", "False"}]}], "]"}], 
      "&"}], ",", "xmlPaths"}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.798122869412119*^9, 3.7981228787151613`*^9}, {
  3.808330709322104*^9, 3.80833071817677*^9}},
 CellLabel->"In[18]:=",ExpressionUUID->"91b489f8-338a-479e-ad6d-c8c22d0b56be"],

Cell[BoxData[
 RowBox[{
  RowBox[{"tabletTexts", " ", "=", " ", 
   RowBox[{"DeleteCases", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"Function", "[", 
       RowBox[{"xml", ",", " ", 
        RowBox[{"Catch", "@", 
         RowBox[{"Module", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"trans", ",", "rawLines", ",", 
             RowBox[{"n", "=", "1"}]}], "}"}], ",", "\n", "\t", 
           RowBox[{
            RowBox[{"trans", " ", "=", " ", 
             RowBox[{"FirstCase", "[", 
              RowBox[{"xml", ",", 
               RowBox[{"XMLElement", "[", 
                RowBox[{"\"\<div1\>\"", ",", 
                 RowBox[{"{", 
                  RowBox[{"___", ",", 
                   RowBox[{"\"\<type\>\"", "\[Rule]", "\"\<translation\>\""}],
                    ",", "___"}], "}"}], ",", "_"}], "]"}], ",", 
               RowBox[{"Missing", "[", "]"}], ",", "Infinity"}], "]"}]}], ";",
             "\n", "\t", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"MissingQ", "[", "trans", "]"}], ",", 
              RowBox[{"Throw", "[", "$Failed", "]"}]}], "]"}], ";", "\n", 
            "\t", 
            RowBox[{"rawLines", " ", "=", " ", 
             RowBox[{"Cases", "[", 
              RowBox[{
               RowBox[{"trans", "[", 
                RowBox[{"[", "3", "]"}], "]"}], ",", 
               RowBox[{"XMLElement", "[", 
                RowBox[{"_", ",", 
                 RowBox[{"{", 
                  RowBox[{"___", ",", 
                   RowBox[{"\"\<type\>\"", "\[Rule]", "\"\<tr\>\""}], ",", 
                   "___"}], "}"}], ",", "_"}], "]"}], ",", "Infinity"}], 
              "]"}]}], ";", "\n", "\t", 
            RowBox[{
             RowBox[{"Function", "[", 
              RowBox[{"line", ",", 
               RowBox[{"Module", "[", 
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{"lineNumber", ",", " ", "lineText"}], "}"}], ",", 
                 "\n", "\t\t", 
                 RowBox[{
                  RowBox[{"lineNumber", " ", "=", " ", 
                   RowBox[{"Lookup", "[", 
                    RowBox[{
                    RowBox[{"line", "[", 
                    RowBox[{"[", "2", "]"}], "]"}], ",", "\"\<n\>\""}], 
                    "]"}]}], ";", "\n", "\t\t", 
                  RowBox[{"lineText", " ", "=", " ", 
                   RowBox[{"StringTrim", "[", 
                    RowBox[{"StringJoin", "[", 
                    RowBox[{
                    RowBox[{"line", "[", 
                    RowBox[{"[", "3", "]"}], "]"}], "//.", 
                    RowBox[{
                    RowBox[{"XMLElement", "[", 
                    RowBox[{"_", ",", "_", ",", 
                    RowBox[{"{", "s___", "}"}]}], "]"}], "\[RuleDelayed]", 
                    "s"}]}], "]"}], "]"}]}], ";", "\n", "\t\t", 
                  RowBox[{"If", "[", 
                   RowBox[{
                    RowBox[{"lineNumber", " ", "===", " ", "\"\<\>\""}], ",", 
                    " ", "Delimiter", ",", " ", 
                    RowBox[{"{", 
                    RowBox[{"lineNumber", ",", 
                    RowBox[{"n", "++"}], ",", "lineText"}], "}"}]}], 
                   "]"}]}]}], "\n", "\t", "]"}]}], "]"}], "/@", 
             "rawLines"}]}]}], "\n", "]"}]}]}], "]"}], "/@", "allXML"}], ",", 
     "$Failed"}], "]"}]}], ";"}]], "Code",
 CellChangeTimes->{{3.7981229104383917`*^9, 3.79812299196979*^9}, {
  3.79812302594494*^9, 3.798123035571484*^9}, {3.798123209710101*^9, 
  3.798123310532342*^9}, {3.798123399944158*^9, 3.798123406928698*^9}, {
  3.7981236208952627`*^9, 3.7981236438854637`*^9}, {3.7981237829344177`*^9, 
  3.798123791671434*^9}, {3.798123979920891*^9, 3.7981239819521008`*^9}, {
  3.798124079682849*^9, 3.798124089006665*^9}, {3.798124451151824*^9, 
  3.798124462115912*^9}},
 CellLabel->"In[19]:=",ExpressionUUID->"f84ebee4-529d-4449-8b5d-7994f0bc81c5"],

Cell["\<\
This tablet is broken: http://oracc.iaas.upenn.edu/adsd/adart2/tei/X201680.xml\
\>", "Text",
 CellChangeTimes->{{3.798123570429771*^9, 
  3.7981235734671583`*^9}},ExpressionUUID->"ef5616d5-b195-44a9-ab8e-\
c22ac2d8c57a"],

Cell["\<\
Lines with \[OpenCurlyDoubleQuote]\[CloseCurlyDoubleQuote] as the line number \
are generally notes and not lines:\
\>", "Text",
 CellChangeTimes->{{3.798123682091703*^9, 3.798123696295474*^9}, {
  3.798123809216*^9, 
  3.798123810630028*^9}},ExpressionUUID->"10b9c7af-7ebb-4834-9bf7-\
4fab6937672b"],

Cell[BoxData[
 RowBox[{"Select", "[", 
  RowBox[{
   RowBox[{"Catenate", "[", "tabletTexts", "]"}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"#", "[", 
      RowBox[{"[", "1", "]"}], "]"}], "=!=", "\"\<\>\""}], "&"}]}], 
  "]"}]], "Input",
 CellChangeTimes->{{3.798123658494957*^9, 3.798123664638443*^9}, {
   3.798123771700148*^9, 3.798123771821452*^9}, 3.798123984416829*^9, {
   3.808330750409602*^9, 3.808330751081703*^9}},
 CellLabel->"In[20]:=",ExpressionUUID->"89d73a58-195f-4d3f-81f1-4c2ab281283f"],

Cell["\<\
(That has too be run with out the code above that makes sure that the line \
number is not \[OpenCurlyDoubleQuote]\[CloseCurlyDoubleQuote])\
\>", "Text",
 CellChangeTimes->{{3.798123819638776*^9, 
  3.798123834368232*^9}},ExpressionUUID->"2fbdc6c6-bb44-469c-aab9-\
68fdb157a82d"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{"Export", "[", 
   RowBox[{
    RowBox[{"FileNameJoin", "[", 
     RowBox[{"{", 
      RowBox[{
      "dataDirectory", ",", "\"\<MX\>\"", ",", "\"\<tabletTexts.mx\>\""}], 
      "}"}], "]"}], ",", "tabletTexts"}], "]"}], "*)"}]], "Input",
 CellChangeTimes->{{3.79812439738951*^9, 3.798124433553685*^9}, {
  3.798124496855093*^9, 
  3.798124503035245*^9}},ExpressionUUID->"bb29d02d-2fdd-4d73-a65d-\
103d4c1aa521"],

Cell[BoxData["\<\"/Users/christopher/git/ComputationalDiaries/data/MX/\
tabletTexts.mx\"\>"], "Output",
 CellChangeTimes->{3.7981245008061457`*^9},
 CellLabel->
  "Out[150]=",ExpressionUUID->"bf732cf7-3466-4088-a9eb-d5f74e7de2de"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Grid", "[", 
  RowBox[{
   RowBox[{
    RowBox[{"tabletTexts", "[", 
     RowBox[{"[", "6", "]"}], "]"}], "/.", 
    RowBox[{"Delimiter", "\[Rule]", 
     RowBox[{"{", "}"}]}]}], ",", 
   RowBox[{"Alignment", "\[Rule]", "Left"}], ",", 
   RowBox[{"Frame", "\[Rule]", "All"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.7981242636153393`*^9, 3.798124378633584*^9}, {
  3.79812446942759*^9, 3.798124478395211*^9}},
 CellLabel->"In[22]:=",ExpressionUUID->"9db27c90-657c-4cc3-86bc-90a8181dccef"],

Cell[BoxData[
 TagBox[GridBox[{
    {"\<\"(o 1')\"\>", "1", "\<\"[...] ... [... Night of the 17th,]\"\>"},
    {"\<\"(o 2')\"\>", 
     "2", "\<\"[last part of the night,] the moon was 2 1/2 cubits in front \
of \[Eta] Tauri [... Night of the 20th,]\"\>"},
    {"\<\"(o 3')\"\>", 
     "3", "\<\"[last par]t of the night, the moon was [nn mm] in front of \
\[Eta] Gemin[orum ...]\"\>"},
    {"\<\"(o 4')\"\>", 
     "4", "\<\"[cl]ouds were in the sky; beginning of the night, rain shower \
[...]\"\>"},
    {"\<\"(o 5')\"\>", 
     "5", "\<\"stood [to] the west. The 22nd, clouds were in the sky. Night \
of the 2[3rd, ...]\"\>"},
    {"\<\"(o 6')\"\>", 
     "6", "\<\"[be]ginning of the night, overcast; lightning flashed \
continuously in the west, ... [... Night of the 24th, last part of the night, \
the moon was]\"\>"},
    {"\<\"(o 7')\"\>", 
     "7", "\<\"1 1/2 cubits [in] front of \[Alpha] Leonis. Night of the 25th, \
last part of the night, the moon was [nn mm] behind \[Rho] [Leonis. Night of \
the 26th, last part of the night, the moon was]\"\>"},
    {"\<\"(o 8')\"\>", 
     "8", "\<\"4 fingers [...] \[Beta] Virginis. The 27th, moonrise to \
sunrise: 17\[Degree]. [That] month, [the equivalent] for 1 shekel [of silver \
was ...]\"\>"},
    {"\<\"(o 9')\"\>", "9", "\<\"4 minas. [...]\"\>"},
    {"\<\"(o 10')\"\>", "10", "\<\"I heard that the king [...]\"\>"},
    {"", "", ""},
    {"\<\"(o 11')\"\>", 
     "11", "\<\"Month VII, (the 1st of which was identical with) the 30th (of \
the preceding month, sunset to moonset:) 9\[Degree] 30'; a little mist, the \
moon [... Night of the 3rd, the moon was]\\n12' 2 1/2 cubits [in front of] \
\[CurlyTheta] Ophiuchi [...]\"\>"},
    {"\<\"(o 13')\"\>", 
     "12", "\<\"[...] rain DUL, gusty north wind. Night of the 6th, beginning \
of the ni[ghtl, ... Night of the 8th, beginning of the night,]\"\>"},
    {"\<\"(o 14')\"\>", 
     "13", "\<\"[the moon was] 1 cubit [...] \[Gamma] Capricorni ... \
[...]\"\>"},
    {"\<\"(o 15')\"\>", 
     "14", "\<\"[... Ni]ght of the 12th, clouds were in the sky; last part of \
the night, rain sh[ower ... Night of the 13th, ...]\"\>"},
    {"\<\"(o 16')\"\>", 
     "15", "\<\"[rain sh]ower; last part of the night, the moon was [nn mm] \
in front of [\[Eta]] Piscium [...]\"\>"},
    {"\<\"(o 17')\"\>", 
     "16", "\<\"[...] The 15th, moonset to sunrise: 4\[Degree]?; I did not \
watch. Ni[ght ... Night of the 16th,]\"\>"},
    {"\<\"(o 18')\"\>", 
     "17", "\<\"last part of the night, the moon was [nn mm] behind \[Eta] \
Tauri [...]\"\>"},
    {"\<\"(b.e. 1)\"\>", "18", "\<\"Diary [...]\"\>"},
    {"\<\"(r 1)\"\>", 
     "19", "\<\"Night of the 19th, last part of the night, the moon was [nn \
mm] behind \[Gamma] Gemi[norum ... Night of the 21st, last part of the night, \
the moon was]\"\>"},
    {"\<\"(r 2)\"\>", "20", "\<\"[nn mm] above \[Delta] Cancri [...]\"\>"},
    {"\<\"(r 3)\"\>", 
     "21", "\<\"Night of the 22nd, beginning [of the night, ...]\"\>"},
    {"\<\"(r 4)\"\>", 
     "22", "\<\"1 cubit, the moon having passed 1 cubit to the east. Night of \
the 24th, last part of the night, the moon [... Mercury\[CloseCurlyQuote]s]\"\
\>"},
    {"\<\"(r 5)\"\>", 
     "23", "\<\"last appearance in the west ..., omitted. Night of the 26th, \
last part of the night, the moon was [nn mm] in front of [\[Alpha] Virginis \
... Jupiter was above]\"\>"},
    {"\<\"(r 6)\"\>", 
     "24", "\<\"\[CurlyTheta] Cancri, it was a little back to the west ... \
[... the moon was ...]\"\>"},
    {"\<\"(r 7)\"\>", 
     "25", "\<\"Cancri 20 fingers, it [stood] in front of Jupiter to the west \
[...]\"\>"},
    {"\<\"(r 8)\"\>", 
     "26", "\<\"cress, 4 s\:016btu; sesame, 2+[x] s\:016btu; [...]\"\>"},
    {"\<\"(r 9)\"\>", 
     "27", "\<\"around the 9th, Venus\[CloseCurlyQuote] [first appearance] in \
the west in Li[bra ...]\"\>"},
    {"", "", ""},
    {"\<\"(r 10)\"\>", 
     "28", "\<\"Month VIII, the 1st (of which followed the 30th of the \
preceding month), sunset to moonset: 12\[Degree]; [...]\"\>"},
    {"\<\"(r 11)\"\>", 
     "29", "\<\"having passed to the east. Night of the 5th, [...]\"\>"},
    {"\<\"(r 12)\"\>", 
     "30", "\<\"Night of the 8th, last part of the night, clouds [...]\"\>"},
    {"\<\"(r 13)\"\>", "31", "\<\"[\[Eta]] Piscium [...]\"\>"}
   },
   AutoDelete->False,
   GridBoxAlignment->{"Columns" -> {{Left}}},
   GridBoxFrame->{"Columns" -> {{True}}, "Rows" -> {{True}}},
   GridBoxItemSize->{"Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}],
  "Grid"]], "Output",
 CellChangeTimes->{
  3.798124260934533*^9, {3.798124342726954*^9, 3.798124379027952*^9}, 
   3.7981244786681967`*^9, 3.808330765830103*^9},
 CellLabel->"Out[22]=",ExpressionUUID->"1844380b-2cb2-4fda-be82-24983278f6a2"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Tablet IDs", "Subsection",
 CellChangeTimes->{{3.798125398545348*^9, 
  3.798125399886804*^9}},ExpressionUUID->"f98c7455-a793-4832-abf4-\
8e8cb67bba86"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"Import", "[", 
    RowBox[{
     RowBox[{"FileNameJoin", "[", 
      RowBox[{"{", 
       RowBox[{
       "dataDirectory", ",", "\"\<adsd\>\"", ",", "\"\<adsd1\>\"", ",", 
        "\"\<adart1\>\"", ",", "\"\<catalogue.json\>\""}], "}"}], "]"}], ",", 
     "\"\<RawJSON\>\""}], "]"}], "[", "\"\<members\>\"", "]"}], "[", 
  RowBox[{"[", "1", "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.7981254060452223`*^9, 3.7981254214156857`*^9}},
 CellLabel->"In[23]:=",ExpressionUUID->"7c281e97-cbd8-444e-839d-5e641ebc4e1a"],

Cell[BoxData[
 RowBox[{"\[LeftAssociation]", 
  RowBox[{
   RowBox[{"\<\"langs\"\>", "\[Rule]", "\<\"0x08000000\"\>"}], ",", 
   RowBox[{"\<\"project\"\>", "\[Rule]", "\<\"adsd/adart1\"\>"}], ",", 
   RowBox[{"\<\"id_text\"\>", "\[Rule]", "\<\"X102611\"\>"}], ",", 
   RowBox[{"\<\"designation\"\>", "\[Rule]", "\<\"AD -261A\"\>"}], ",", 
   RowBox[{"\<\"copy\"\>", "\[Rule]", "\<\"LBAT 249\"\>"}], ",", 
   RowBox[{"\<\"photo\"\>", "\[Rule]", "\<\"ADART I plate 66\"\>"}], ",", 
   RowBox[{"\<\"museum_no\"\>", "\[Rule]", "\<\"BM 41690\"\>"}], ",", 
   RowBox[{"\<\"text_comments\"\>", 
    "\[Rule]", "\<\"A obv. 9': At the beginning of the line either the moon \
or GI\[CapitalSHacek].KUN A is to be restored.\"\>"}], ",", 
   RowBox[{"\<\"accession_no\"\>", "\[Rule]", "\<\"81-6-25,308\"\>"}], ",", 
   RowBox[{"\<\"ancient_year\"\>", "\[Rule]", "\<\"SE 50\"\>"}], ",", 
   RowBox[{"\<\"date_bce\"\>", "\[Rule]", "\<\"262/1\"\>"}], ",", 
   RowBox[{"\<\"genre\"\>", "\[Rule]", "\<\"Astronomical Diary\"\>"}], ",", 
   RowBox[{"\<\"language\"\>", "\[Rule]", "\<\"Akkadian\"\>"}], ",", 
   RowBox[{"\<\"material\"\>", "\[Rule]", "\<\"clay\"\>"}], ",", 
   RowBox[{"\<\"months_recorded\"\>", "\[Rule]", "\<\"I II [ ] V VI\"\>"}], 
   ",", 
   RowBox[{"\<\"object_type\"\>", "\[Rule]", "\<\"tablet\"\>"}], ",", 
   RowBox[{"\<\"period\"\>", "\[Rule]", "\<\"Hellenistic\"\>"}], ",", 
   RowBox[{"\<\"provenience\"\>", "\[Rule]", "\<\"Babylon\"\>"}], ",", 
   RowBox[{"\<\"pleiades_id\"\>", "\[Rule]", "\<\"893951\"\>"}], ",", 
   RowBox[{"\<\"pleiades_coord\"\>", 
    "\[Rule]", "\<\"[44.422236,32.543395]\"\>"}], ",", 
   RowBox[{"\<\"supergenre\"\>", "\[Rule]", "\<\"unknown\"\>"}], ",", 
   RowBox[{"\<\"trans\"\>", "\[Rule]", 
    RowBox[{"{", "\<\"en\"\>", "}"}]}]}], "\[RightAssociation]"}]], "Output",
 CellChangeTimes->{{3.798125407628971*^9, 3.7981254217273283`*^9}, 
   3.8083307719418707`*^9},
 CellLabel->"Out[23]=",ExpressionUUID->"aabf3d61-f176-4432-8fec-71bb095a9ecf"]
}, Open  ]]
}, Open  ]]
},
WindowSize->{808, 905},
WindowMargins->{{148, Automatic}, {Automatic, 4}},
FrontEndVersion->"12.1 for Mac OS X x86 (64-bit) (June 9, 2020)",
StyleDefinitions->"Default.nb",
ExpressionUUID->"2eb4e868-5231-4a65-86d4-6b5327b714a5"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 332, 8, 30, "Input",ExpressionUUID->"ba20a98f-8f8e-4a3e-b1ae-f67c6185dd43"],
Cell[915, 32, 275, 4, 34, "Output",ExpressionUUID->"cc983bcf-4b36-4bd5-ae0a-ef53aa9786e4"]
}, Open  ]],
Cell[CellGroupData[{
Cell[1227, 41, 156, 3, 54, "Subsection",ExpressionUUID->"8ce99784-8417-4c0e-812b-a3759b7145d8"],
Cell[1386, 46, 258, 6, 35, "Text",ExpressionUUID->"c8678bc3-45c3-4011-a373-5015d1ea3a95"],
Cell[1647, 54, 2340, 58, 283, "Input",ExpressionUUID->"1742b6cc-30c6-4c1a-8794-ef8fb353cf78"]
}, Open  ]],
Cell[CellGroupData[{
Cell[4024, 117, 218, 4, 54, "Subsection",ExpressionUUID->"79aefb83-56a4-4959-8411-a65b96bd6be6"],
Cell[4245, 123, 620, 16, 73, "Input",ExpressionUUID->"83e54005-fac6-4366-8455-404e95e4009a"],
Cell[4868, 141, 347, 9, 30, "Input",ExpressionUUID->"906c7e93-dab5-4e0f-9673-365c82a6de50"],
Cell[CellGroupData[{
Cell[5240, 154, 572, 11, 30, "Input",ExpressionUUID->"7f9d3908-f161-4423-afb4-3d891642863b"],
Cell[5815, 167, 1619, 38, 77, "Output",ExpressionUUID->"d1daeb9d-a466-43f4-9a8c-6fb05761b589"]
}, Open  ]],
Cell[CellGroupData[{
Cell[7471, 210, 550, 14, 30, "Input",ExpressionUUID->"e51b014b-b168-45aa-be95-901128f0cf04"],
Cell[8024, 226, 925, 20, 60, "Output",ExpressionUUID->"347e3090-961f-445f-a4c6-bcb09fdb501a"]
}, Open  ]],
Cell[CellGroupData[{
Cell[8986, 251, 396, 9, 30, "Input",ExpressionUUID->"4cb295a6-5600-4371-a892-4497fd54b4dd"],
Cell[9385, 262, 1996, 49, 98, "Output",ExpressionUUID->"39b5de77-0883-4c07-8c57-42418f0eba4d"]
}, Open  ]],
Cell[11396, 314, 190, 4, 30, "Input",ExpressionUUID->"a4143005-70c5-4ea2-a64a-fcdde6132c9f"],
Cell[11589, 320, 2337, 65, 205, "Code",ExpressionUUID->"0e7b573c-d250-4080-b8c4-77d7b427f8b3"],
Cell[CellGroupData[{
Cell[13951, 389, 4319, 99, 338, "Code",ExpressionUUID->"abca5d64-afbd-41ce-902d-3a977349d555"],
Cell[18273, 490, 15457, 352, 2324, "Output",ExpressionUUID->"4e466b24-7988-4ea8-97d7-cc4d9e0b9fbc"]
}, Open  ]],
Cell[CellGroupData[{
Cell[33767, 847, 444, 12, 30, "Input",ExpressionUUID->"96d29a14-6d84-43db-8077-95e070a7a4d9"],
Cell[34214, 861, 10183, 250, 142, "Output",ExpressionUUID->"311a0d4d-d182-4958-acd3-f94a56f50d47"]
}, Closed]],
Cell[CellGroupData[{
Cell[44434, 1116, 408, 10, 26, "Input",ExpressionUUID->"55523418-f079-4f57-b45e-86c2f9b4d4a9"],
Cell[44845, 1128, 8717, 227, 93, "Output",ExpressionUUID->"cae4ef7f-5420-425b-895c-1a2274770780"]
}, Open  ]]
}, Closed]],
Cell[CellGroupData[{
Cell[53611, 1361, 168, 3, 38, "Subsection",ExpressionUUID->"5d9899d1-ef42-4737-9d36-b85da7680815"],
Cell[53782, 1366, 687, 16, 73, "Input",ExpressionUUID->"db1d9090-6f9b-4c09-8e63-74f5a2c9d7ea"],
Cell[54472, 1384, 534, 12, 52, "Input",ExpressionUUID->"91b489f8-338a-479e-ad6d-c8c22d0b56be"],
Cell[55009, 1398, 3946, 86, 224, "Code",ExpressionUUID->"f84ebee4-529d-4449-8b5d-7994f0bc81c5"],
Cell[58958, 1486, 230, 5, 35, "Text",ExpressionUUID->"ef5616d5-b195-44a9-ab8e-c22ac2d8c57a"],
Cell[59191, 1493, 310, 7, 35, "Text",ExpressionUUID->"10b9c7af-7ebb-4834-9bf7-4fab6937672b"],
Cell[59504, 1502, 509, 12, 30, "Input",ExpressionUUID->"89d73a58-195f-4d3f-81f1-4c2ab281283f"],
Cell[60016, 1516, 289, 6, 35, "Text",ExpressionUUID->"2fbdc6c6-bb44-469c-aab9-68fdb157a82d"],
Cell[CellGroupData[{
Cell[60330, 1526, 452, 12, 30, "Input",ExpressionUUID->"bb29d02d-2fdd-4d73-a65d-103d4c1aa521"],
Cell[60785, 1540, 230, 4, 34, "Output",ExpressionUUID->"bf732cf7-3466-4088-a9eb-d5f74e7de2de"]
}, Open  ]],
Cell[CellGroupData[{
Cell[61052, 1549, 513, 12, 30, "Input",ExpressionUUID->"9db27c90-657c-4cc3-86bc-90a8181dccef"],
Cell[61568, 1563, 4754, 98, 1135, "Output",ExpressionUUID->"1844380b-2cb2-4fda-be82-24983278f6a2"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[66371, 1667, 158, 3, 54, "Subsection",ExpressionUUID->"f98c7455-a793-4832-abf4-8e8cb67bba86"],
Cell[CellGroupData[{
Cell[66554, 1674, 560, 13, 52, "Input",ExpressionUUID->"7c281e97-cbd8-444e-839d-5e641ebc4e1a"],
Cell[67117, 1689, 1983, 32, 206, "Output",ExpressionUUID->"aabf3d61-f176-4432-8fec-71bb095a9ecf"]
}, Open  ]]
}, Open  ]]
}
]
*)

